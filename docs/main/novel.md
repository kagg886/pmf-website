# 小说



## 1. 浏览

小说浏览的页面如下：

| PC                                                           | Android                                                      |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| ![image-20250321112730835](./novel.assets/image-20250321112730835.png) | ![image-20250321113116613](./novel.assets/image-20250321113116613.png) |

- 点击右上角笔头图标以展示小说详情侧滑栏，包括封面图，作者信息，标题等信息
- 点击爱心以进行收藏，点击标签内容以进行以标签为单位的搜索。
- 点击评论可以查看评论区

## 2. 小说预览设置

![image-20250321113228674](./novel.assets/image-20250321113228674.png)

###  自动排版(默认开启)

自动排版可以帮您屏蔽一些小说文字上的差异，能够提供一个更加舒适的阅读体验。

附一张对比图

| 开启自动排版                                                 | 未开启自动排版                                               |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| ![image-20250321112730835](./novel.assets/image-20250321112730835.png) | ![image-20250321113902225](./novel.assets/image-20250321113902225.png) |

> 您可以通过设置的`正文大小`来调整小说的字号大小。这也会同步调整行高。

:::details 自动排版都干了些什么？

1. 首行缩进2字符宽

   > 因为compose的bug所以只能通过添加空格的方式实现indent。

2. 使用正则表达式去除多余的空行

3. 完全去除每一段前后的空格

若您想要了解自动排版的具体代码实现，请参考[rich-text.kt](https://github.com/kagg886/Pixiv-MultiPlatform/blob/483bf913a2cb98a3df0056468e0f77a12d5b58fa/composeApp/src/commonMain/kotlin/top/kagg886/pmf/ui/util/rich-text.kt#L234)

:::

### 过滤长TAG小说

相信你一定在搜索中见到过这种挂人还乱打TAG的文章：
![image-20250321114328989](./novel.assets/image-20250321114328989.png)

该功能可以通过检索TAG的长度，来达到近似屏蔽此类文章的目的。

:::warning

有倾向表明试看类文章也有这种打特长TAG进行引流的倾向。

如果这个功能影响到了您的使用体验，请关闭它(默认就是关闭的)。

:::

### 过滤极短小说

相信你在搜索时会看到这种没有营养却占地方的~~文章~~

![image-20250321114653345](./novel.assets/image-20250321114653345.png)

该功能可以通过检索这类文章的总字数来达到屏蔽的目的，使得搜索结果里为你想要的文章而不是这种扩列啊文爱啊的条子。

> 当然，只看超过指定字数的文章也可以使用这个功能。